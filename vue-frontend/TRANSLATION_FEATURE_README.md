# 手语识别翻译功能说明

## 功能概述

本功能将原有的QT前端手语识别系统完整移植到Vue前端，提供基于YOLOv8的实时手语识别和智能翻译功能。

## 主要功能

### 1. 文件输入功能
- **图片文件选择**：支持JPG、PNG等常见图片格式
- **视频文件选择**：支持MP4、AVI等视频格式
- **摄像头实时捕获**：支持实时手语识别
- **批量处理**：支持文件夹批量图片处理

### 2. 推理参数设置
- **置信度阈值**：可调节检测的置信度阈值（0-1）
- **连续推理延时**：设置摄像头连续检测的延时（1-100ms）

### 3. 检测结果显示
- **目标数目**：显示检测到的目标数量
- **目标选择**：可选择查看特定目标的详细信息
- **置信度**：显示检测结果的置信度
- **坐标位置**：显示目标框的坐标信息

### 4. 结果表格
- **序号**：检测结果的序号
- **文件路径**：原始文件路径
- **类别**：检测到的手语类别
- **置信度**：检测结果的置信度百分比
- **坐标位置**：目标框的坐标信息

### 5. 操作功能
- **保存结果**：将检测结果保存到后端
- **清空结果**：清空当前所有检测结果
- **退出应用**：退出翻译功能

## 技术实现

### 前端技术栈
- **Vue 3**：使用Composition API
- **Element Plus**：UI组件库
- **Tailwind CSS**：样式框架
- **JavaScript**：核心逻辑

### 后端API
- **Flask**：Python后端框架
- **YOLOv8**：手语识别模型
- **OpenCV**：图像处理
- **RESTful API**：接口设计

### 支持的手语类别
根据Config.py配置，支持以下手语类别：
- 时间/时候、你/您/你的/这、早上、9、0
- 快乐/高兴、新、祝、请、路、生日
- 平、安、朋友、8、认识、名片
- 结婚/妻子、茶、有、花、今天、门
- 停、谢谢、慢、走、晚、我、爱
- 好、人、什么、名字、介绍

## 使用方法

### 1. 启动后端服务
```bash
cd shouyuDetestion/backend_api
python app.py
```

### 2. 启动前端服务
```bash
cd vue-frontend
npm run dev
```

### 3. 使用翻译功能
1. 打开浏览器访问 `http://localhost:5173`
2. 点击导航栏中的"翻译"
3. 选择输入方式：
   - 点击"选择图片"上传图片文件
   - 点击"选择视频"上传视频文件
   - 点击"开启摄像头"进行实时识别
   - 点击"批量处理"选择文件夹批量处理
4. 调整推理参数（置信度阈值、连续推理延时）
5. 查看检测结果和详细信息
6. 保存或清空结果

## API接口说明

### 健康检查
```
GET /api/health
```

### 图片检测
```
POST /api/detect/image
Content-Type: multipart/form-data
- image: 图片文件
- confidence: 置信度阈值
```

### 视频检测
```
POST /api/detect/video
Content-Type: multipart/form-data
- video: 视频文件
- confidence: 置信度阈值
```

### 批量检测
```
POST /api/detect/batch
Content-Type: multipart/form-data
- images: 图片文件数组
- confidence: 置信度阈值
```

### 保存结果
```
POST /api/save/results
Content-Type: application/json
{
  "results": [...],
  "timestamp": 1234567890,
  "confidence_threshold": 0.5,
  "inference_time": 0.123
}
```

## 配置说明

### 模型配置
- 模型路径：`shouyuDetestion/models/shouyushibie_0921best.pt`
- 类别数量：35个手语类别
- 输入尺寸：自动调整

### 保存路径
- 结果保存：`shouyuDetestion/save_data/shouyushibie_result/`
- 支持格式：JSON、图片、视频

## 注意事项

1. **浏览器兼容性**：需要支持WebRTC的现代浏览器
2. **摄像头权限**：首次使用需要允许摄像头访问权限
3. **网络连接**：需要确保前后端服务正常通信
4. **模型加载**：首次启动可能需要加载模型，请耐心等待
5. **文件大小**：建议图片文件不超过10MB，视频文件不超过100MB

## 故障排除

### 常见问题
1. **摄像头无法访问**：检查浏览器权限设置
2. **API连接失败**：确认后端服务是否启动
3. **模型加载失败**：检查模型文件是否存在
4. **检测结果为空**：尝试降低置信度阈值

### 调试方法
1. 打开浏览器开发者工具查看控制台错误
2. 检查网络请求是否正常
3. 确认后端服务日志
4. 验证模型文件完整性

## 更新日志

### v1.0.0 (2025-01-21)
- 完成QT前端功能移植
- 实现Vue前端翻译板块
- 集成YOLOv8手语识别模型
- 支持图片、视频、摄像头输入
- 实现检测结果展示和保存功能
- 添加响应式设计和现代化UI
