# 翻译功能配置和使用说明

## ✅ 后端服务已成功启动

根据日志显示：
- ✅ 模型加载成功
- ✅ 服务运行在: http://127.0.0.1:5000
- ✅ API健康检查: http://127.0.0.1:5000/api/health

## 🔧 前端配置

前端运行在: **http://localhost:3000/translate**

API已配置指向后端: `http://127.0.0.1:5000/api`

## 📝 启动步骤

### 1. 启动后端服务
```bash
cd shouyuDetestion/backend_api
python app.py
```

等待看到以下信息表示成功：
```
模型加载成功
手语翻译系统API服务启动中...
API文档: http://localhost:5000/api/health
 * Running on http://127.0.0.1:5000
```

### 2. 启动前端服务
在新的终端窗口：
```bash
cd vue-frontend
npm run dev
```

### 3. 访问翻译功能
打开浏览器访问: **http://localhost:3000/translate**

## 🧪 测试API连接

### 方法1: 浏览器直接访问
在浏览器打开: http://127.0.0.1:5000/api/health

应该看到类似输出：
```json
{
  "status": "ok",
  "message": "手语翻译系统运行正常",
  "model_loaded": true
}
```

### 方法2: 在浏览器控制台测试
1. 打开 http://localhost:3000/translate
2. 按F12打开开发者工具
3. 在Console中输入：
```javascript
fetch('http://127.0.0.1:5000/api/health')
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err))
```

## 🔍 故障排查

### 问题1: 前端无法连接后端
**症状**: 上传图片后没有反应或显示错误

**解决方案**:
1. 确认后端服务正在运行（检查命令行窗口）
2. 在浏览器F12控制台查看Network标签，检查API请求状态
3. 确认没有防火墙阻止5000端口

### 问题2: CORS跨域错误
**症状**: 控制台显示 "CORS policy" 错误

**解决方案**: 
后端已配置CORS，如果仍有问题，检查 `app.py` 中的 CORS 配置：
```python
CORS(app)  # 允许跨域请求
```

### 问题3: 模型路径错误
**症状**: 后端启动失败，显示模型加载失败

**解决方案**: 
已修复，模型路径已正确配置为：`../models/shouyushibie_0921best.pt`

## 📂 文件位置

- 后端服务: `shouyuDetestion/backend_api/app.py`
- 前端页面: `vue-frontend/src/views/Translate.vue`
- API服务: `vue-frontend/src/services/translationApi.js`
- 模型文件: `shouyuDetestion/models/shouyushibie_0921best.pt`

## 🎯 使用流程

1. 确保后端和前端都在运行
2. 访问 http://localhost:3000/translate
3. 点击"选择图片"按钮上传手语图片
4. 系统自动识别并显示结果
5. 查看检测结果表格中的详细信息
6. 可以保存或清空结果

## 💡 提示

- 首次使用建议降低置信度阈值（如0.3）以获得更多检测结果
- 摄像头功能需要HTTPS或localhost环境
- 批量处理建议每次不超过20张图片
- 确保图片清晰且手势完整可见
